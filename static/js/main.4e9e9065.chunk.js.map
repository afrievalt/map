{"version":3,"sources":["store/ducks/chargeLocations.duck.js","routes/routePaths.js","store/rootReducer.js","store/createStore.js","AppProvider.js","hooks/useEffectOnce.js","controls/Map/Map.jsx",".secretes.js","controls/Map/Marker.jsx","pages/Home/chargeLocations.selectors.js","controls/Link.jsx","hooks/useActions.js","controls/ListItemLink.jsx","controls/LayoutAtoms/theme.js","controls/LayoutAtoms/Box.jsx","pages/Home/ContentArea/contentArea.selectors.js","pages/Home/ContentArea/ContentArea.jsx","controls/LayoutAtoms/Stack.jsx","hooks/useDebounce.js","pages/Home/FetchChargingLocations.jsx","pages/Home/Home.jsx","pages/Home/index.js","App.js","index.js"],"names":["chargeLocations","createSlice","name","initialState","foundChargeLocations","loading","error","selected","reducers","selectChargeLocations","state","action","payload","fetchChargeLocationsRequest","fetchChargeLocationsSuccess","fetchChargeLocationsFailure","actions","routePaths","HOME","STATION","location","connectRoutes","reducer","rootReducer","combineReducers","initialDispatch","routerMiddleware","middleware","routerEnhancer","enhancer","defaultMiddleware","getDefaultMiddleware","serializableCheck","store","configureStore","enhancers","defaultEnhancers","configureRouteStore","dispatch","AppProvider","children","memo","useEffectOne","callback","isCalledRef","useRef","useEffect","current","MapContext","createContext","mapboxgl","accessToken","workerClass","require","default","MILWAUKEE","Map","mapContainer","map","useState","lng","setLng","lat","setLat","zoom","setZoom","useEffectOnce","container","style","center","on","getCenter","toFixed","getZoom","context","Provider","value","ref","className","propTypes","coordinates","PropTypes","array","isRequired","Marker","useContext","marker","setLngLat","addTo","remove","EMPTY","selectRouteLocation","selectUniqueChargeLocations","createSelector","locations","allIds","filter","l","id","includes","push","selectChargeLocationsForMap","routeLocation","console","log","addressInfo","latitude","longitude","Link","type","routeKey","routeParameters","child","Children","only","handleClick","useDispatch","useMemo","Array","isArray","a","bindActionCreators","useActions","cloneElement","onClick","ListItemLink","ListItem","button","space","0","1","2","3","4","5","6","7","8","9","10","size","Box","styled","div","padding","background","border","css","selectChargeLocationsForContentArea","connections","title","town","addressLine1","accessComments","stateOrProvince","postcode","usageCost","isFullDetails","addressLine2","details","length","BlockSpan","span","Container","ContentArea","useSelector","List","ListItemText","primary","secondary","d","Stack","direction","justify","align","gap","useDebounce","delay","debouncedValue","setDebouncedValue","timeoutId","setTimeout","clearTimeout","FetchChargingLocations","search","url","axios","get","then","result","data","catch","fetchChargeLocations","Home","mapLocations","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4e9e9065.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\r\nimport axios from 'axios'\r\nimport { openChangeMapKey } from '../../.secretes'\r\n\r\nexport const initialState = {\r\n  foundChargeLocations: [],\r\n  loading: false,\r\n  error: null,\r\n  selected: null\r\n}\r\n\r\nconst chargeLocations = createSlice({\r\n  name: 'chargeLocations',\r\n  initialState,\r\n  reducers: {\r\n    selectChargeLocations (state, action) {\r\n      const { payload } = action || {}\r\n      state.selected = payload\r\n    },\r\n    fetchChargeLocationsRequest (state, { payload }) {\r\n      state.loading = true\r\n      state.error = null\r\n    },\r\n    fetchChargeLocationsSuccess (state, action) {\r\n      const { payload = [] } = action || {}\r\n      state.foundChargeLocations = payload\r\n      state.loading = false\r\n      state.error = null\r\n    },\r\n    fetchChargeLocationsFailure (state, action) {\r\n      state.loading = false\r\n      state.error = action.payload\r\n    }\r\n  }\r\n})\r\n\r\nconst { fetchChargeLocationsRequest } = chargeLocations.actions\r\nexport const { fetchChargeLocationsSuccess, fetchChargeLocationsFailure } = chargeLocations.actions\r\n\r\nconst baseUrl = 'https://api.openchargemap.io/v3/poi/?output=json&camelCase=true&compact=true&cammelCase=true&countrycode=US&maxresults=10&compact=true&verbose=false'\r\nexport const fetchChargeLocations = (search) => (dispatch) => {\r\n  const url = `${baseUrl}&latitude=${search.lat}&longitude=${search.lng}&distance=50&key=${openChangeMapKey}`\r\n  console.log('inFetch', { search })\r\n  dispatch(fetchChargeLocationsRequest())\r\n  return axios.get(url)\r\n    .then((result) => dispatch(fetchChargeLocationsSuccess(result.data)))\r\n    .then(() => dispatch({ type: 'HOME' }))\r\n    .catch((error) => dispatch(fetchChargeLocationsFailure(error)))\r\n}\r\n\r\nexport default chargeLocations.reducer\r\n","const routePaths = {\r\n  HOME: '/',\r\n  STATION: '/station/:id'\r\n}\r\n\r\nexport default routePaths\r\n","import { combineReducers } from 'redux'\r\nimport { connectRoutes } from 'redux-first-router'\r\nimport chargeLocations from './ducks/chargeLocations.duck'\r\nimport routePaths from '../routes/routePaths'\r\n\r\nconst { reducer: location } = connectRoutes(routePaths)\r\n\r\nconst rootReducer = combineReducers({\r\n  chargeLocations,\r\n  location,\r\n})\r\n\r\nexport default rootReducer\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit'\r\nimport { connectRoutes } from 'redux-first-router'\r\nimport rootReducer from './rootReducer'\r\nimport routePaths from '../routes/routePaths'\r\n\r\nconst { middleware: routerMiddleware, enhancer: routerEnhancer, initialDispatch } = connectRoutes(routePaths, { initialDispatch: false })\r\n\r\nconst defaultMiddleware = getDefaultMiddleware({\r\n  serializableCheck: false\r\n})\r\n\r\nfunction configureRouteStore () {\r\n  const store = configureStore({\r\n    reducer: rootReducer,\r\n    middleware: [...defaultMiddleware, routerMiddleware],\r\n    enhancers: (defaultEnhancers) => [routerEnhancer, ...defaultEnhancers]\r\n  })\r\n  initialDispatch()\r\n  return store\r\n}\r\nconst store = configureRouteStore()\r\n\r\nexport const rrfProps = {\r\n  dispatch: store.dispatch\r\n}\r\n\r\nexport default store\r\n","import './App.css'\r\nimport React, { memo } from 'react'\r\nimport { Provider } from 'react-redux'\r\nimport store from './store/createStore'\r\n\r\nconst AppProvider = ({ children }) => {\r\n  return (\r\n    <Provider store={store}>\r\n      {children}\r\n    </Provider>\r\n\r\n  )\r\n}\r\n\r\nexport default memo(AppProvider)\r\n","import { useEffect, useRef } from 'react'\r\n\r\nfunction useEffectOne (callback) {\r\n  // mutable ref\r\n  const isCalledRef = useRef(false)\r\n\r\n  useEffect(() => {\r\n    if (!isCalledRef.current) {\r\n      isCalledRef.current = true\r\n      callback()\r\n    }\r\n  }, [callback])\r\n}\r\n\r\nexport default useEffectOne\r\n","import React, { useRef, useState, createContext } from 'react'\r\nimport mapboxgl from 'mapbox-gl'\r\nimport { mapboxglAccessToken } from '../../.secretes'\r\nimport useEffectOnce from '../../hooks/useEffectOnce'\r\nexport const MapContext = createContext()\r\nmapboxgl.accessToken = mapboxglAccessToken\r\n// eslint-disable-next-line import/no-webpack-loader-syntax\r\nmapboxgl.workerClass = require('worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker').default;\r\n\r\nconst MILWAUKEE = {\r\n  lat: 43.0292238997657,\r\n  lng: -87.9368712076874\r\n}\r\n\r\nexport default function Map ({ children }) {\r\n  const mapContainer = useRef(null)\r\n  const map = useRef(null)\r\n  const [lng, setLng] = useState(MILWAUKEE.lng)\r\n  const [lat, setLat] = useState(MILWAUKEE.lat)\r\n  const [zoom, setZoom] = useState(11)\r\n\r\n  useEffectOnce(() => {\r\n    map.current = new mapboxgl.Map({\r\n      container: mapContainer.current,\r\n      style: 'mapbox://styles/mapbox/streets-v11',\r\n      center: [lng, lat],\r\n      zoom\r\n    })\r\n    map.current.on('move', () => {\r\n      setLng(map.current.getCenter().lng.toFixed(4))\r\n      setLat(map.current.getCenter().lat.toFixed(4))\r\n      setZoom(map.current.getZoom().toFixed(2))\r\n    })\r\n  })\r\n\r\n  const context = {\r\n    map: map.current,\r\n    lat,\r\n    lng,\r\n    zoom\r\n  }\r\n  return (\r\n    <MapContext.Provider value={context}>\r\n      <div>\r\n        <div ref={mapContainer} className='map-container' />\r\n        {children}\r\n      </div>\r\n    </MapContext.Provider>\r\n  )\r\n}\r\n","// normally this file would not be publicly viewable or checked in to version control;\r\nexport const mapboxglAccessToken = 'pk.eyJ1IjoiYWZyaWV2YWx0IiwiYSI6ImNrcHp0MWF6djAzOWYycW80ODR2MHdlN2kifQ.VCne9A82z8X0QfaUqp59NA'\r\nexport const openChangeMapKey = 'c37feaa6-2d65-4697-bfbe-bbf4fa858c31'\r\n","import { useContext, useEffect } from 'react'\r\nimport mapboxgl from 'mapbox-gl'\r\nimport PropTypes from 'prop-types'\r\nimport { MapContext } from './Map'\r\n\r\nconst propTypes = {\r\n  coordinates: PropTypes.array.isRequired\r\n}\r\n\r\nconst Marker = ({ coordinates }) => {\r\n  const { map } = useContext(MapContext)\r\n  useEffect(() => {\r\n    const marker = new mapboxgl.Marker()\r\n    map && marker.setLngLat(coordinates)\r\n      .addTo(map)\r\n    return () => {\r\n      marker.remove()\r\n    }\r\n  }, [map, coordinates])\r\n  return null\r\n}\r\nMarker.propTypes = propTypes\r\n\r\nexport default Marker\r\n","import { createSelector } from 'reselect'\r\n\r\nconst EMPTY = {}\r\nexport const selectChargeLocations = state => state.chargeLocations.foundChargeLocations\r\nexport const selectRouteLocation = state => state.location\r\n\r\nexport const selectUniqueChargeLocations = createSelector(selectChargeLocations,\r\n  locations => {\r\n    const allIds = []\r\n    return locations.filter(l => {\r\n      const { id } = l\r\n      if (!allIds.includes(id)) {\r\n        allIds.push(id)\r\n        return true\r\n      }\r\n      return false\r\n    })\r\n  }\r\n)\r\nexport const selectChargeLocationsForMap = createSelector(\r\n  selectUniqueChargeLocations,\r\n  selectRouteLocation,\r\n\r\n  (locations, routeLocation) => {\r\n    const { payload } = routeLocation || EMPTY\r\n    const { id } = payload || EMPTY\r\n    console.log({ id })\r\n    return locations\r\n      .map(location => {\r\n        const { addressInfo, id } = location || EMPTY\r\n        const { latitude, longitude } = addressInfo || EMPTY\r\n        const coordinates = [longitude, latitude]\r\n        return {\r\n          coordinates,\r\n          id\r\n        }\r\n      })\r\n      .filter(location => !id || +id === +location.id)\r\n  })\r\n","import { Children, cloneElement } from 'react'\r\nimport { useActions } from '../hooks/useActions'\r\nconst makeActionCreator = (type, payload) => () => ({ type, payload })\r\nconst Link = ({ routeKey, children, ...routeParameters }) => {\r\n  const child = Children.only(children)\r\n  const handleClick = useActions(makeActionCreator(routeKey, routeParameters))\r\n  return cloneElement(child, { onClick: handleClick })\r\n}\r\n\r\nexport default Link\r\n\r\n// <Link routeKey=\"TASK_EDIT\" taskId={5}>\r\n//  <Task />                    // task will get passed an on click\r\n// </Link>\r\n//\r\n//  route paths:\r\n//    TASK_EDIT: '/task/:taskId',\r\n//   url:\r\n//      task/5\r\n","import { bindActionCreators } from 'redux'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useMemo } from 'react'\r\n\r\nexport function useActions (actions) {\r\n  const dispatch = useDispatch()\r\n  return useMemo(\r\n    () => {\r\n      if (Array.isArray(actions)) {\r\n        return actions.map((a) => bindActionCreators(a, dispatch))\r\n      }\r\n      return bindActionCreators(actions, dispatch)\r\n    },\r\n    [dispatch, actions]\r\n  )\r\n}\r\n\r\n// const handleSubmit = useActions(addStudent)\r\n","import ListItem from '@material-ui/core/ListItem'\r\nimport Link from './Link'\r\nconst ListItemLink = ({ routeKey, routeParameters, children }) => {\r\n  return (\r\n    <Link routeKey={routeKey} {...routeParameters}>\r\n      <ListItem button>{children}</ListItem>\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport default ListItemLink\r\n","/**\r\n * Assuming there is global font-size of 16px\r\n * This is the browser default. But just to be sure,\r\n * we set it on html tag as well in global css\r\n */\r\nconst body = 16\r\n\r\n/**\r\n  * We are using System UI theme specification: https://system-ui.com/theme\r\n  * with one small change - we use objects instead of arrays.\r\n  */\r\n\r\nexport const space = {\r\n  0: 0,\r\n  1: (1 * 4) / body + 'rem',\r\n  2: (2 * 4) / body + 'rem',\r\n  3: (3 * 4) / body + 'rem',\r\n  4: (4 * 4) / body + 'rem',\r\n  5: (5 * 4) / body + 'rem',\r\n  6: (6 * 4) / body + 'rem',\r\n  7: (7 * 4) / body + 'rem',\r\n  8: (8 * 4) / body + 'rem',\r\n  9: (9 * 4) / body + 'rem',\r\n  10: (10 * 4) / body + 'rem'\r\n}\r\n\r\nexport const size = space\r\n\r\nexport const fontSizes = {\r\n  1: 10 / body + 'rem',\r\n  2: 12 / body + 'rem',\r\n  3: 14 / body + 'rem',\r\n  4: 16 / body + 'rem',\r\n  5: 20 / body + 'rem',\r\n  6: 24 / body + 'rem'\r\n}\r\nexport const radii = {\r\n  0: 0,\r\n  1: '2px',\r\n  2: '4px',\r\n  3: '16px',\r\n  4: '50%'\r\n}\r\nexport const colors = {\r\n  grays: {\r\n    100: '#f5faff',\r\n    200: '#E1E7EC',\r\n    300: '#D1D9E0',\r\n    400: '#C8D0D7',\r\n    500: '#AEBECD',\r\n    600: '#929FB1',\r\n    700: '#6E7A8A',\r\n    800: '#404B5A',\r\n    900: '#202833'\r\n  },\r\n  white: '#fff',\r\n  blue: '#535bcf',\r\n  reds: {\r\n    300: '#E06161',\r\n    800: '#821919'\r\n  },\r\n  yellows: {\r\n    100: '#FDF3D7',\r\n    300: '#F8E8BA',\r\n    900: '#5C4813'\r\n  },\r\n  greens: {\r\n    100: '#E3FCEC',\r\n    200: '#A8EEC1',\r\n    700: '#259D58',\r\n    900: '#145239'\r\n  }\r\n}\r\n","import styled, { css } from 'styled-components'\r\nimport { size, colors } from './theme'\r\nconst gray = colors.grays[100]\r\n\r\nconst Box = styled.div(\r\n  ({ padding = 2, background = gray, border = 0 }) =>\r\n    css`\r\n      padding: ${size[padding] || null};\r\n      background-color:${background};\r\n      border-width: ${size[border] || null};\r\n      border-color: black;\r\n      border-style: solid; \r\n    `\r\n)\r\n\r\nexport default Box\r\n","import { createSelector } from 'reselect'\r\nimport { selectRouteLocation, selectUniqueChargeLocations } from '../chargeLocations.selectors'\r\n\r\nconst EMPTY = {}\r\n\r\nexport const selectChargeLocationsForContentArea = createSelector(\r\n  selectUniqueChargeLocations,\r\n  selectRouteLocation,\r\n  (locations, routeLocation) => {\r\n    const { payload } = routeLocation\r\n\r\n    return locations.map(location => {\r\n      const { addressInfo, id, connections } = location || EMPTY\r\n      const { title, town, addressLine1, accessComments, stateOrProvince, postcode, usageCost } = addressInfo || EMPTY\r\n      const isFullDetails = id === +payload?.id\r\n      const addressLine2 = `${town}, ${stateOrProvince} ${postcode}`\r\n      const details = isFullDetails\r\n        ? [\r\n            addressLine1,\r\n            addressLine2,\r\n            accessComments,\r\n            usageCost,\r\n            `Connections: ${connections.length}`\r\n          ].filter(l => l)\r\n        : [addressLine1]\r\n      return {\r\n        id,\r\n        title,\r\n        details\r\n      }\r\n    })\r\n  })\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport List from '@material-ui/core/List'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemLink from '../../../controls/ListItemLink'\r\nimport styled from 'styled-components'\r\nimport Box from '../../../controls/LayoutAtoms/Box'\r\nimport { selectChargeLocationsForContentArea } from './contentArea.selectors'\r\n\r\nconst BlockSpan = styled.span`\r\n  display: block;\r\n`\r\nconst Container = styled(Box)`\r\n  width: 20vw;\r\n`\r\nfunction ContentArea () {\r\n  const locations = useSelector(selectChargeLocationsForContentArea)\r\n  return (\r\n    <Container>\r\n      <List>\r\n        {\r\n          locations.map(l => (\r\n            <ListItemLink\r\n              routeKey='STATION'\r\n              routeParameters={{ id: l.id }}\r\n              key={l.id}\r\n            >\r\n              <ListItemText\r\n                primary={l.title}\r\n                secondary={l.details.map(d => <BlockSpan key={d}>{d}</BlockSpan>)}\r\n              />\r\n\r\n            </ListItemLink>\r\n          ))\r\n        }\r\n      </List>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default ContentArea\r\n","import styled, { css } from 'styled-components'\r\nimport { space } from './theme'\r\n\r\nconst Stack = styled.div(\r\n  ({ direction = 'horizontal', justify, align, gap }) =>\r\n    css`\r\n      display: flex;\r\n      flex-direction: ${direction === 'vertical' ? 'column' : 'row'};\r\n      justify-content: ${justify};\r\n      align-items: ${align};\r\n      > * + * {\r\n        margin-left: ${direction === 'horizontal' ? space[gap] : null};\r\n        margin-top: ${direction === 'vertical' ? space[gap] : null};\r\n      }\r\n    `\r\n)\r\n\r\nexport default Stack\r\n","import { useEffect, useState } from 'react'\r\n\r\nfunction useDebounce (value, delay) {\r\n  // State and setters for debounced value\r\n  const [debouncedValue, setDebouncedValue] = useState(value)\r\n  useEffect(\r\n    () => {\r\n      // Update debounced value after delay\r\n      const timeoutId = setTimeout(() => {\r\n        setDebouncedValue(value)\r\n      }, delay)\r\n      // Cancel the timeout if value changes (also on delay change or unmount)\r\n      // This is how we prevent debounced value from updating if value is changed ...\r\n      // .. within the delay period. Timeout gets cleared and restarted.\r\n      return () => {\r\n        clearTimeout(timeoutId)\r\n      }\r\n    },\r\n    [value, delay] // Only re-call effect if value or delay changes\r\n  )\r\n  return debouncedValue\r\n}\r\n\r\nexport default useDebounce\r\n","import useDebounce from '../../hooks/useDebounce'\r\nimport { fetchChargeLocations } from '../../store/ducks/chargeLocations.duck'\r\nimport { useDispatch } from 'react-redux'\r\nimport { MapContext } from '../../controls/Map/Map'\r\nimport { useContext, useEffect } from 'react'\r\n\r\nfunction FetchChargingLocations () {\r\n  const dispatch = useDispatch()\r\n  const context = useContext(MapContext)\r\n  const search = useDebounce(context, 500)\r\n  const {\r\n    lat,\r\n    lng,\r\n    zoom\r\n  } = search\r\n  useEffect(() => {\r\n    dispatch(fetchChargeLocations({ lng, lat, zoom }))\r\n  }, [lng, lat, zoom, dispatch])\r\n\r\n  return null // no rendering\r\n}\r\n\r\nexport default FetchChargingLocations\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Map from '../../controls/Map/Map'\r\nimport Marker from '../../controls/Map/Marker'\r\nimport { selectChargeLocationsForMap } from './chargeLocations.selectors'\r\nimport ContentArea from './ContentArea/ContentArea'\r\nimport Stack from '../../controls/LayoutAtoms/Stack'\r\nimport FetchChargingLocations from './FetchChargingLocations'\r\n\r\nfunction Home () {\r\n  const mapLocations = useSelector(selectChargeLocationsForMap)\r\n  console.log({ mapLocations })\r\n  return (\r\n    <Stack>\r\n      <ContentArea />\r\n      <Map>\r\n        <FetchChargingLocations />\r\n        {\r\n          mapLocations.map(l =>\r\n            <Marker coordinates={l.coordinates} key={l.id} />\r\n          )\r\n        }\r\n      </Map>\r\n    </Stack>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import Home from './Home'\r\nexport default Home\r\n","import './App.css'\r\nimport React from 'react'\r\nimport AppProvider from './AppProvider'\r\nimport Home from './pages/Home'\r\n\r\nfunction App () {\r\n  return (\r\n    <AppProvider>\r\n      <Home />\r\n    </AppProvider>\r\n\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}